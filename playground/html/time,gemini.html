<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elegant Digital Clock</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;500;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <style>
        /* CSS Variables for Theming */
        :root {
            /* Default Light Theme */
            --text-color: #333;
            --text-color-light: rgba(51, 51, 51, 0.7);
            --bg-start: #f8f8f8;
            --bg-end: #e5e5e5;
            --accent-color: #007bff;
            --transition-speed-ui: 0.5s;
            --transition-speed-bg: 4s;
        }

        /* Dark Theme Variables */
        body.dark-theme {
            --text-color: #f0f0f0;
            --text-color-light: rgba(240, 240, 240, 0.7);
            --bg-start: #1e1e2f;
            --bg-end: #0a0a1a;
            --accent-color: #4a90e2;
        }

        /* Time of Day Background Variables */
        /* These classes dynamically update the background variables */
        .dawn {
            --bg-start: #ffc371; /* Orange/Yellow Hues */
            --bg-end: #ff5f6d;
        }
        .noon {
            --bg-start: #e0eafc; /* Bright Neutrals/Sky */
            --bg-end: #cfdef3;
        }
        .dusk {
            --bg-start: #a770ef; /* Warm Tones/Purple */
            --bg-end: #cf8bf3;
        }
        .night {
            --bg-start: #0f2027; /* Deep Blues/Black */
            --bg-end: #203a43;
        }

        /* Global Styles & Layout */
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            font-family: 'Roboto Mono', sans-serif;
            color: var(--text-color);
            background: linear-gradient(135deg, var(--bg-start), var(--bg-end));
            transition: color var(--transition-speed-ui) ease;
            overflow: hidden;
        }

        /* Background Gradient Transition (using ::before for a smooth background shift) */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--bg-start), var(--bg-end));
            z-index: -1;
            transition: all var(--transition-speed-bg) ease-in-out; /* Smooth Background Shift */
        }
        
        /* Clock Container Styling */
        #clock-container {
            text-align: center;
            padding: 3rem;
            background: rgba(255, 255, 255, 0.05); /* Subtle transparency */
            border-radius: 20px;
            backdrop-filter: blur(10px); /* Elegant glass effect */
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.2);
            transition: all var(--transition-speed-ui) ease;
        }

        /* Main Clock Display */
        #clock-display {
            font-size: 8vw; /* Large and responsive */
            font-weight: 700;
            letter-spacing: -2px;
            margin-bottom: 0.5rem;
            line-height: 1;
            transition: color var(--transition-speed-ui) ease;
        }

        .separator {
            opacity: 0.8;
        }

        .format-indicator {
            font-size: 0.3em;
            vertical-align: super;
            font-weight: 500;
            margin-left: 0.5rem;
            color: var(--accent-color);
            transition: color var(--transition-speed-ui) ease;
        }

        /* Date and Timezone */
        #date-display {
            font-size: 1.5vw;
            font-weight: 300;
            color: var(--text-color-light);
            margin-bottom: 1rem;
            transition: color var(--transition-speed-ui) ease;
        }

        #timezone-display {
            font-size: 0.9rem;
            font-weight: 300;
            opacity: 0.7;
            transition: color var(--transition-speed-ui) ease;
        }

        /* Controls (Toggles) */
        #controls {
            position: absolute;
            top: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
        }

        #controls button {
            background: rgba(255, 255, 255, 0.1);
            border: none;
            border-radius: 50%;
            width: 45px;
            height: 45px;
            color: var(--text-color);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease, color var(--transition-speed-ui) ease, transform 0.2s ease;
        }

        #controls button:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.05);
        }
        
        /* Hidden/Placeholder Settings Menu */
        #settings-menu {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none; /* Hidden by default */
            justify-content: center;
            align-items: center;
            z-index: 100;
            opacity: 0;
            transition: opacity var(--transition-speed-ui) ease;
        }
        #settings-menu.active {
            display: flex;
            opacity: 1;
        }
        .settings-content {
            background: var(--bg-start);
            padding: 30px;
            border-radius: 10px;
            width: 300px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            color: var(--text-color);
        }

        /* Responsiveness */
        @media (max-width: 768px) {
            #clock-display {
                font-size: 16vw;
            }
            #date-display {
                font-size: 3.5vw;
            }
            #clock-container {
                padding: 2rem;
            }
            #controls {
                top: 15px;
                right: 15px;
            }
        }
    </style>
</head>
<body>
    <div id="clock-container">
        <div id="clock-display">
            <span id="hours">00</span><span class="separator">:</span><span id="minutes">00</span><span class="separator">:</span><span id="seconds">00</span>
            <span id="ampm" class="format-indicator"></span>
        </div>
        <div id="date-display">
            <span id="day-of-week"></span>, <span id="full-date"></span>
        </div>
        <div id="timezone-display">
            <span id="timezone-abbr"></span> (<span id="timezone-name"></span>)
        </div>
    </div>

    <div id="controls">
        <button id="toggle-24h" title="Toggle 12/24 Hour Format">
            <span class="material-icons">access_time</span>
        </button>
        <button id="toggle-theme" title="Toggle Dark/Light Theme">
            <span class="material-icons">brightness_4</span>
        </button>
        <button id="settings-btn" title="Settings">
            <span class="material-icons">settings</span>
        </button>
    </div>

    <div id="settings-menu">
        <div class="settings-content">
            <h3>Customization Settings</h3>
            <p>Font and color customization features would go here.</p>
            <p>Example: **Time Format** is currently <span id="format-status">24-hour</span>.</p>
            <button onclick="document.getElementById('settings-menu').classList.remove('active');" style="margin-top: 15px;">Close</button>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const hoursEl = document.getElementById('hours');
            const minutesEl = document.getElementById('minutes');
            const secondsEl = document.getElementById('seconds');
            const ampmEl = document.getElementById('ampm');
            const dateEl = document.getElementById('full-date');
            const dayOfWeekEl = document.getElementById('day-of-week');
            const timezoneAbbrEl = document.getElementById('timezone-abbr');
            const timezoneNameEl = document.getElementById('timezone-name');
            const toggle24hBtn = document.getElementById('toggle-24h');
            const toggleThemeBtn = document.getElementById('toggle-theme');
            const settingsBtn = document.getElementById('settings-btn');
            const settingsMenu = document.getElementById('settings-menu');
            const formatStatusEl = document.getElementById('format-status');
            const body = document.body;

            // Initialize time format based on browser preference or default to 24h
            let is24HourFormat = true; 

            // --- Core Clock Update Function ---
            function updateClock() {
                const now = new Date();
                const hours = now.getHours();
                const minutes = now.getMinutes();
                const seconds = now.getSeconds();
                
                // Date and Day
                const dayOfWeek = now.toLocaleString('en-US', { weekday: 'long' });
                const fullDate = now.toLocaleString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });
                
                // Timezone
                const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;
                const timezoneParts = timezone.split('/');
                timezoneNameEl.textContent = timezoneParts[timezoneParts.length - 1].replace('_', ' ');
                
                // Try to get abbreviated offset (e.g., IST)
                const offset = now.toLocaleTimeString('en-us', { timeZoneName:'short' }).split(' ')[2] || 'Local';
                timezoneAbbrEl.textContent = offset;


                // --- Time Formatting ---
                let displayHours = hours;
                let ampm = '';

                if (!is24HourFormat) {
                    ampm = hours >= 12 ? 'PM' : 'AM';
                    displayHours = hours % 12 || 12; // Convert 0 to 12
                    ampmEl.textContent = ampm;
                    formatStatusEl.textContent = '12-hour (AM/PM)';
                } else {
                    ampmEl.textContent = '';
                    formatStatusEl.textContent = '24-hour';
                }

                hoursEl.textContent = String(displayHours).padStart(2, '0');
                minutesEl.textContent = String(minutes).padStart(2, '0');
                secondsEl.textContent = String(seconds).padStart(2, '0');
                
                // Display Date
                dayOfWeekEl.textContent = dayOfWeek;
                dateEl.textContent = fullDate;

                updateBackground(hours);
            }
            
            // --- Background Theme Logic (Time of Day) ---
            function updateBackground(hours) {
                let themeClass;
                // Dawn: 5 AM to 8 AM
                if (hours >= 5 && hours < 8) {
                    themeClass = 'dawn';
                // Noon: 8 AM to 5 PM
                } else if (hours >= 8 && hours < 17) {
                    themeClass = 'noon';
                // Dusk: 5 PM to 8 PM
                } else if (hours >= 17 && hours < 20) {
                    themeClass = 'dusk';
                // Night: 8 PM to 5 AM
                } else {
                    themeClass = 'night';
                }
                
                // Remove existing classes, then add the new one
                body.classList.remove('dawn', 'noon', 'dusk', 'night');
                body.classList.add(themeClass);
            }
            
            // --- UI Control: 12/24 Hour Toggle ---
            toggle24hBtn.addEventListener('click', () => {
                is24HourFormat = !is24HourFormat;
                updateClock();
            });

            // --- UI Control: Dark/Light Theme Switch ---
            toggleThemeBtn.addEventListener('click', () => {
                body.classList.toggle('dark-theme');
                // Persist the theme choice
                localStorage.setItem('theme', body.classList.contains('dark-theme') ? 'dark' : 'light');
            });
            
            // --- UI Control: Settings Button ---
            settingsBtn.addEventListener('click', () => {
                 settingsMenu.classList.add('active');
            });
            
            // Load theme from previous session
            if (localStorage.getItem('theme') === 'dark') {
                 body.classList.add('dark-theme');
            }

            // Initialize and Start Clock
            setInterval(updateClock, 1000); // Update every second
            updateClock(); // Initial call
        });
    </script>
</body>
</html>